(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[889],{3067:function(e,t,n){Promise.resolve().then(n.bind(n,8947))},8947:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o=n(9268),r=n(1771),i=n(7095),s=n(4240),l=n(8235),a=n(6006),u=n(7931),c=n(4478),d=n(9014),h=n(2427),p=n(1615),w=()=>{var e;let{words:t,setWords:n}=(0,a.useContext)(d.d);console.log("words",t);let[w,g]=(0,a.useState)([]),[f,x]=(0,a.useState)(0),[m,v]=(0,a.useState)(0),[y,j]=(0,a.useState)(""),C=async()=>{let e=await (0,h.kA)(p.ZP.getWords);n(e.data)};(0,a.useEffect)(()=>{C()},[]),(0,a.useEffect)(()=>{let e=[],n=t.filter(e=>e.wrongCount<10);n.length===t.length&&j("You have no more words to review, you are permanently done.");let o=n.filter(e=>e.bin>0);console.log("wordsInHigerBin",o);let r=n.filter(e=>0===e.bin);if(console.log("wordsInZeroBin",r),o.length){let t=o.filter(e=>e.timeToNextAppearance<=Date.now());console.log("wordsWithNegativeTime",t),t.sort((e,t)=>e.bin-t.bin),console.log("wordsWithNegativeTime sorted",t),e=e.concat(t)}console.log("displayWords",e=e.concat(r)),e.length||j("You are temporarily done; please come back later to review more words."),g(e)},[t]);let Z=async e=>{var t;let n=(null===(t=w[f])||void 0===t?void 0:t.bin)+1,o=b(n);await (0,h.Ko)(p.ZP.updateWord+"/".concat(e),{bin:n,timeToNextAppearance:o,updateFields:["bin","timeToNextAppearance"]}),x(f+1),v(0)},k=async e=>{var t,n;let o=(null===(t=w[f])||void 0===t?void 0:t.wrongCount)+1,r=10===o?-1:null===(n=w[f])||void 0===n?void 0:n.bin,i=b(r);await (0,h.Ko)(p.ZP.updateWord+"/".concat(e),{wrongCount:o,bin:r,timeToNextAppearance:i,updateFields:["wrongCount","bin","timeToNextAppearance"]}),x(f+1),v(0)},b=e=>{switch(e){case 1:return c.ou.now().plus({seconds:5}).toMillis();case 2:return c.ou.now().plus({seconds:25}).toMillis();case 3:return c.ou.now().plus({minutes:2}).toMillis();case 4:return c.ou.now().plus({minutes:10}).toMillis();case 5:return c.ou.now().plus({hours:1}).toMillis();case 6:return c.ou.now().plus({hours:5}).toMillis();case 7:return c.ou.now().plus({days:1}).toMillis();case 8:return c.ou.now().plus({days:5}).toMillis();case 9:return c.ou.now().plus({days:25}).toMillis();case 10:return c.ou.now().plus({months:4}).toMillis();default:return -1}};return(0,o.jsx)(o.Fragment,{children:(null===(e=w[f])||void 0===e?void 0:e.word)?(0,o.jsx)(i.Z,{sx:{width:400},children:(0,o.jsxs)(l.Z,{sx:{height:"100%"},children:[(0,o.jsx)(s.Z,{variant:"h3",sx:{textAlign:"center",display:"flex",alignContent:"center",alignItems:"center",justifyContent:"center",height:600},children:0===m?w[f].word:w[f].description}),0===m?(0,o.jsx)(r.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"center"},children:(0,o.jsx)(u.Z,{onClick:()=>{v(1)},variant:"contained",size:"large",children:"Show Description"})}):(0,o.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,o.jsx)(u.Z,{onClick:()=>Z(w[f]._id),variant:"contained",size:"large",children:"I got it."}),(0,o.jsx)(u.Z,{onClick:()=>k(w[f]._id),variant:"contained",size:"large",children:"I did not get it."})]})]})}):y})},g=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(r.Z,{sx:{m:"auto",display:"flex",alignContent:"center",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,o.jsx)(w,{})})})},8690:function(e,t){"use strict";t.Z={meEndpoint:"/auth/me",loginEndpoint:"/auth/login",registerEndpoint:"/user/register",storageTokenKeyName:"accessToken",onTokenExpiration:"refreshToken"}},9014:function(e,t,n){"use strict";n.d(t,{d:function(){return i},i:function(){return s}});var o=n(9268),r=n(6006);let i=(0,r.createContext)({words:[],setWords:()=>{}}),s=e=>{let{children:t}=e,[n,s]=(0,r.useState)([]);return(0,o.jsx)(i.Provider,{value:{words:n,setWords:s},children:t})}},1615:function(e,t,n){"use strict";n(2427),t.ZP={addWord:"/word",getWords:"/word",deleteWord:"/word",updateWord:"/word"}},2427:function(e,t,n){"use strict";n.d(t,{Ko:function(){return a},P3:function(){return u},kA:function(){return l}});var o=n(4214),r=n(8690);let i=window.localStorage.getItem(r.Z.storageTokenKeyName),s=o.Z.create({baseURL:"http://localhost:3333/api",withCredentials:!1,headers:{"Content-Type":"application/json",Authorization:i}});s.interceptors.response.use(e=>e.data.data||e,e=>{var t;return Promise.reject(null===(t=e.response)||void 0===t?void 0:t.data)});let l=(e,t)=>new Promise((n,o)=>{s({method:"GET",url:e,params:t}).then(e=>{n(e)}).catch(e=>{o(e)})});function a(e,t){return new Promise((n,o)=>s({method:"POST",url:e,data:t}).then(e=>{n(e)}).catch(e=>{o(e)}))}function u(e){return new Promise((t,n)=>s({method:"DELETE",url:e}).then(e=>{t(e)}).catch(e=>{n(e)}))}}},function(e){e.O(0,[71,431,483,825,253,698,744],function(){return e(e.s=3067)}),_N_E=e.O()}]);